/*! @version pwa-studio: 0.0.1, @magento/venia-ui: ~9.3.0, @magento/venia-sample-backends: ~0.0.1, @magento/upward-security-headers: ~1.0.7, @magento/pwa-theme-venia: ~1.2.0, @magento/pwa-buildpack: ~11.2.0, @magento/peregrine: ~12.3.0, @magento/pagebuilder: ~7.2.0, @magento/eslint-config: ~1.5.0, @magento/babel-preset-peregrine: ~1.2.0, @apollo/client: ~3.4.0 */
(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{"9teu":function(e,t,n){"use strict"
n.r(t),n.d(t,"default",function(){return Pe})
var a,r,o,i,c,l,s,u=n("q1tI"),g=n.n(u),d=n("17x9"),m=n("lSNA"),y=n.n(m),p=n("J4zp"),f=n.n(p),b=n("Ty5D"),h=n("+TN3"),v=n("Lm/n"),P=n("y1Xp"),E=n("OlZo"),_=n("Cszt"),C=n("PKba"),j=n("Unmo"),O=n("+wQL"),F=n("VkAN"),S=n.n(F),I=n("UYTu"),N=Object(I.a)(a||(a=S()(["\n    # eslint-disable-next-line @graphql-eslint/require-id-when-available\n    fragment CategoryFragment on CategoryTree {\n        uid\n        meta_title\n        meta_keywords\n        meta_description\n    }\n"]))),k=Object(I.a)(r||(r=S()(["\n    fragment ProductsFragment on Products {\n        items {\n            id\n            uid\n            name\n            price_range {\n                maximum_price {\n                    regular_price {\n                        currency\n                        value\n                    }\n                }\n            }\n            sku\n            small_image {\n                url\n            }\n            stock_status\n            rating_summary\n            __typename\n            url_key\n        }\n        page_info {\n            total_pages\n        }\n        total_count\n    }\n"]))),q={getCategoryQuery:Object(I.a)(o||(o=S()(["\n    query GetCategories(\n        $id: String!\n        $pageSize: Int!\n        $currentPage: Int!\n        $filters: ProductAttributeFilterInput!\n        $sort: ProductAttributeSortInput\n    ) {\n        categories(filters: { category_uid: { in: [$id] } }) {\n            # eslint-disable-next-line @graphql-eslint/require-id-when-available\n            items {\n                uid\n                ...CategoryFragment\n            }\n        }\n        products(\n            pageSize: $pageSize\n            currentPage: $currentPage\n            filter: $filters\n            sort: $sort\n        ) {\n            ...ProductsFragment\n        }\n    }\n    ","\n    ","\n"])),N,k),getFilterInputsQuery:Object(I.a)(i||(i=S()(['\n    query GetFilterInputsForCategory {\n        __type(name: "ProductAttributeFilterInput") {\n            inputFields {\n                name\n                type {\n                    name\n                }\n            }\n        }\n    }\n'])))},x=n("kriW"),w=n("yf4o"),z=Object(I.a)(c||(c=S()(["\n    query getProductFiltersByCategory(\n        $categoryIdFilter: FilterEqualTypeInput!\n    ) {\n        products(filter: { category_uid: $categoryIdFilter }) {\n            aggregations {\n                label\n                count\n                attribute_code\n                options {\n                    label\n                    value\n                }\n                position\n            }\n        }\n    }\n"]))),T={getCategoryContentQuery:Object(I.a)(l||(l=S()(["\n    query getCategoryData($id: String!) {\n        categories(filters: { category_uid: { in: [$id] } }) {\n            # eslint-disable-next-line @graphql-eslint/require-id-when-available\n            items {\n                uid\n                name\n                description\n            }\n        }\n    }\n"]))),getProductFiltersByCategoryQuery:z,getCategoryAvailableSortMethodsQuery:Object(I.a)(s||(s=S()(["\n    query getCategoryAvailableSortMethods(\n        $categoryIdFilter: FilterEqualTypeInput!\n    ) {\n        products(filter: { category_uid: $categoryIdFilter }) {\n            sort_fields {\n                options {\n                    label\n                    value\n                }\n            }\n        }\n    }\n"])))},M=n("Rpel"),$=n("pezu"),D=n("RL9Z"),B=n("LlM3"),Q=n("vh/y"),A=n("rP9t"),L=n("UPvi"),R=n("C0us"),U=n("tuiD"),J=n("JCOj"),W=n("STDB"),G=n("zrp3"),H=n("Y5d+"),Y=n("hbEb"),V=n("I7WN"),Z=n("dDsW"),K=n("55Ip"),X=n("UqBt"),ee=function isNonDefaultCategory(e){return Boolean(e.parentId)},te=n("STEg"),ne=n("OlhY"),ae=n("u2JS"),re=n.n(ae),oe=n("LboF"),ie=n.n(oe),ce=n("ZBw8"),le={injectType:"singletonStyleTag",insert:"head",singleton:!0},se=(ie()(ce.a,le),ce.a.locals||{}),ue=function NoProductsFound(e){var t=e.categoryId,n=Object(P.a)(se,e.classes),a=Object(Z.a)().formatMessage,r=function useNoProductsFound(e){var t=e.categoryId,n=Object(X.b)(),a=f()(n,1)[0].categories
return{recommendedCategories:Object(u.useMemo)(function(){var e,n=Object.values(a).filter(ee).filter(function isNotSameCategory(e){return e.id!==t}),r=n.length
if(r<=3)e=n
else{var o=r-3+1,i=Math.floor(Math.random()*o),c=i+3
e=n.slice(i,c)}return e},[t,a])}}({categoryId:t}).recommendedCategories,o=Object(u.useMemo)(function(){return r.map(function(e){var t=Object(te.a)("/".concat(e.url_path).concat(e.url_suffix))
return g.a.createElement("li",{key:e.id,className:n.listItem},g.a.createElement(K.b,{to:t},e.name))})},[n,r]),i=a({id:"noProductsFound.noProductsFound",defaultMessage:"Sorry! We couldn't find any products."})
return g.a.createElement("div",{className:n.root},g.a.createElement(ne.a,{alt:i,classes:{image:n.image,root:n.imageContainer},src:re.a}),g.a.createElement("h2",{className:n.title},i),g.a.createElement("div",{className:n.categories},g.a.createElement("p",null,g.a.createElement(x.a,{id:"noProductsFound.tryOneOfTheseCategories",defaultMessage:"Try one of these categories"})),g.a.createElement("ul",{className:n.list},o)))},ge=ue
ue.propTypes={categoryId:d.number,classes:Object(d.shape)({root:d.string,title:d.string,list:d.string,categories:d.string,listItem:d.string,image:d.string,imageContainer:d.string})}
var de,me=g.a.lazy(function(){return Promise.all([n.e(0),n.e(10)]).then(n.bind(null,"dzHx"))}),ye=g.a.lazy(function(){return Promise.all([n.e(0),n.e(11)]).then(n.bind(null,"SAkj"))}),pe=function CategoryContent(e){var t=e.categoryId,n=e.data,a=e.isLoading,r=e.pageControl,o=e.sortProps,i=e.pageSize,c=f()(o,1)[0],l=function useCategoryContent(e){var t=e.categoryId,n=e.data,a=e.pageSize,r=void 0===a?6:a,o=Object(P.a)(T,e.operations),i=o.getCategoryContentQuery,c=o.getProductFiltersByCategoryQuery,l=o.getCategoryAvailableSortMethodsQuery,s=Array.from({length:r}).fill(null),g=Object(v.a)(c,{fetchPolicy:"cache-and-network",nextFetchPolicy:"cache-first"}),d=f()(g,2),m=d[0],y=d[1].data,p=Object(v.a)(l,{fetchPolicy:"cache-and-network",nextFetchPolicy:"cache-first"}),b=f()(p,2),E=b[0],_=b[1].data,C=Object(h.a)(i,{fetchPolicy:"cache-and-network",nextFetchPolicy:"cache-first",skip:!t,variables:{id:t}}).data
Object(u.useEffect)(function(){t&&m({variables:{categoryIdFilter:{eq:t}}})},[t,m]),Object(u.useEffect)(function(){t&&E({variables:{categoryIdFilter:{in:t}}})},[t,E])
var j=y?y.products.aggregations:null,O=n?n.products.items:s,F=n?n.products.page_info.total_pages:null,S=n?n.products.total_count:null,I=C?C.categories.items[0].name:null,N=C?C.categories.items[0].description:null
return{availableSortMethods:_?_.products.sort_fields.options:null,categoryName:I,categoryDescription:N,filters:j,items:O,totalCount:S,totalPagesFromData:F}}({categoryId:t,data:n,pageSize:i}),s=l.availableSortMethods,d=l.categoryName,m=l.categoryDescription,y=l.filters,p=l.items,b=l.totalCount,E=l.totalPagesFromData,_=Object(u.useRef)(null),C=Object(P.a)(V.a,e.classes),j=Object(w.a)({elementRef:_}),O=y&&y.length,F=null===y,S=E&&s,I=!E&&a,N=O?g.a.createElement($.a,{filters:y}):F?g.a.createElement(D.a,null):null,k=O?g.a.createElement(me,{filters:y}):null,q=O?g.a.createElement(ye,{filters:y}):F?g.a.createElement(B.a,null):null,z=S?g.a.createElement(U.a,{sortProps:o,availableSortMethods:s}):I?g.a.createElement(J.a,null):null,Z=S?g.a.createElement(H.a,{currentSort:c}):I?g.a.createElement(Y.a,null):null,K=b>0?g.a.createElement(x.a,{id:"categoryContent.resultCount",values:{count:b},defaultMessage:"{count} Results"}):a?g.a.createElement(G.a,{width:5}):null,X=m?g.a.createElement(W.a,{html:m}):null,ee=Object(u.useMemo)(function(){if(!E&&!a)return g.a.createElement(ge,{categoryId:t})
var e=E?g.a.createElement(Q.a,{items:p}):g.a.createElement(A.a,{items:p}),n=E?g.a.createElement(R.a,{pageControl:r}):null
return g.a.createElement(u.Fragment,null,g.a.createElement("section",{className:C.gallery},e),g.a.createElement("div",{className:C.pagination},n))},[t,C.gallery,C.pagination,a,p,r,E]),te=d||g.a.createElement(G.a,{width:5})
return g.a.createElement(u.Fragment,null,g.a.createElement(M.a,{categoryId:t}),g.a.createElement(L.b,null,d),g.a.createElement("article",{className:C.root},g.a.createElement("div",{className:C.categoryHeader},g.a.createElement("h1",{className:C.title},g.a.createElement("div",{className:C.categoryTitle},te)),X),g.a.createElement("div",{className:C.contentWrapper},g.a.createElement("div",{ref:_,className:C.sidebar},g.a.createElement(u.Suspense,{fallback:g.a.createElement(B.a,null)},j?q:null)),g.a.createElement("div",{className:C.categoryContent},g.a.createElement("div",{className:C.heading},g.a.createElement("div",{className:C.categoryInfo},K),g.a.createElement("div",{className:C.headerButtons},N,z),Z),ee,g.a.createElement(u.Suspense,{fallback:null},k)))))},fe=pe
pe.propTypes={classes:Object(d.shape)({gallery:d.string,pagination:d.string,root:d.string,categoryHeader:d.string,title:d.string,categoryTitle:d.string,sidebar:d.string,categoryContent:d.string,heading:d.string,categoryInfo:d.string,headerButtons:d.string}),sortProps:d.array,pageSize:d.number}
var be=Object(I.a)(de||(de=S()(["\n    query getPageSize {\n        # eslint-disable-next-line @graphql-eslint/require-id-when-available\n        storeConfig {\n            store_code\n            grid_per_page\n        }\n    }\n"]))),he=n("Fk0k"),ve=function Category(e){var t=e.uid,n=function useCategory(e){var t=e.id,n=e.queries.getPageSize,a=Object(P.a)(q,e.operations),r=a.getCategoryQuery,o=a.getFilterInputsQuery,i=Object(h.a)(n,{fetchPolicy:"cache-and-network",nextFetchPolicy:"cache-first"}).data,c=i&&i.storeConfig.grid_per_page,l=Object(_.a)(),s=f()(l,2),g=s[0],d=s[1],m=g.currentPage,p=g.totalPages,F=d.setCurrentPage,S=d.setTotalPages,I=Object(j.a)({sortFromSearch:!1}),N=f()(I,1)[0],k=Object(u.useRef)(N),x={currentPage:m,setPage:F,totalPages:p},w=Object(E.b)(),z=f()(w,2)[1].actions.setPageLoading,T=Object(v.a)(r,{fetchPolicy:"cache-and-network",nextFetchPolicy:"cache-first"}),M=f()(T,2),$=M[0],D=M[1],B=D.called,Q=D.loading,A=D.error,L=D.data,R=Object(b.h)().search,U=!!L&&Q
Object(u.useEffect)(function(){z(U)},[U,z])
var J=Object(u.useRef)(R),W=Object(h.a)(o,{fetchPolicy:"cache-and-network",nextFetchPolicy:"cache-first"}),G=W.called,H=W.data,Y=W.loading,V=Object(u.useMemo)(function(){var e=new Map
return H&&H.__type.inputFields.forEach(function(t){var n=t.name,a=t.type
e.set(n,a.name)}),e},[H])
Object(u.useEffect)(function(){if(V.size&&c){var e=Object(O.c)(R),n={}
e.forEach(function(e,t){n[t]=Object(O.b)(e,V.get(t))}),n.category_uid={eq:t},$({variables:{currentPage:Number(m),id:t,filters:n,pageSize:Number(c),sort:y()({},N.sortAttribute,N.sortDirection)}})}},[m,N,V,t,c,$,R])
var Z=L?L.products.page_info.total_pages:null
Object(u.useEffect)(function(){return S(Z),function(){S(null)}},[S,Z]),Object(u.useEffect)(function(){!A||Q||L||1===m||F(1)},[m,A,Q,F,L]),Object(u.useEffect)(function(){var e=new URLSearchParams(J.current),t=new URLSearchParams(R)
e.delete("page"),t.delete("page"),e.toString()===t.toString()&&k.current.sortAttribute.toString()===N.sortAttribute.toString()&&k.current.sortDirection.toString()===N.sortDirection.toString()||(F(1,!0),J.current=R,k.current=N)},[N,J,R,F])
var K=Q&&!L?null:L,X=L&&L.categories.items[0]&&L.categories.items[0].meta_description?L.categories.items[0].meta_description:"",ee=G&&!B||Q&&!L||Y
return Object(C.a)(m),{error:A,categoryData:K,loading:ee,metaDescription:X,pageControl:x,sortProps:I,pageSize:c}}({id:t,queries:{getPageSize:be}}),a=n.error,r=n.metaDescription,o=n.loading,i=n.categoryData,c=n.pageControl,l=n.sortProps,s=n.pageSize,d=Object(P.a)(V.a,e.classes)
return!i&&a&&1===c.currentPage?g.a.createElement(he.a,null):g.a.createElement(u.Fragment,null,g.a.createElement(L.a,{name:"description",content:r}),g.a.createElement(fe,{categoryId:t,classes:d,data:i,isLoading:o,pageControl:c,sortProps:l,pageSize:s}))}
ve.propTypes={classes:Object(d.shape)({gallery:d.string,root:d.string,title:d.string}),uid:d.string},ve.defaultProps={uid:"Mg=="}
var Pe=ve},Rpel:function(e,t,n){"use strict"
var a,r,o=n("q1tI"),i=n.n(o),c=n("kriW"),l=n("17x9"),s=n("55Ip"),u=n("+TN3"),g=n("CjCK"),d=n("y1Xp"),m=n("VkAN"),y=n.n(m),p=n("UYTu"),f=Object(p.a)(a||(a=y()(["\n    query GetStoreConfigForBreadcrumbs {\n        # eslint-disable-next-line @graphql-eslint/require-id-when-available\n        storeConfig {\n            store_code\n            category_url_suffix\n        }\n    }\n"]))),b={getBreadcrumbsQuery:Object(p.a)(r||(r=y()(["\n    query GetBreadcrumbs($category_id: String!) {\n        categories(filters: { category_uid: { in: [$category_id] } }) {\n            # eslint-disable-next-line @graphql-eslint/require-id-when-available\n            items {\n                breadcrumbs {\n                    category_uid\n                    # We may not need level if `breadcrumbs` is sorted.\n                    category_level\n                    category_name\n                    category_url_path\n                }\n                uid\n                name\n                url_path\n            }\n        }\n    }\n"],["\n    query GetBreadcrumbs($category_id: String!) {\n        categories(filters: { category_uid: { in: [$category_id] } }) {\n            # eslint-disable-next-line @graphql-eslint/require-id-when-available\n            items {\n                breadcrumbs {\n                    category_uid\n                    # We may not need level if \\`breadcrumbs\\` is sorted.\n                    category_level\n                    category_name\n                    category_url_path\n                }\n                uid\n                name\n                url_path\n            }\n        }\n    }\n"]))),getStoreConfigQuery:f},h=function sortCrumbs(e,t){return e.category_level>t.category_level},v=function getPath(e,t){return e?"/".concat(e).concat(t||""):"#"},P=n("STEg"),E=n("265v"),_=n("GHYJ"),C=function Breadcrumbs(e){var t=Object(d.a)(_.a,e.classes),n=e.categoryId,a=e.currentProduct,r=function useBreadcrumbs(e){var t=e.categoryId,n=Object(d.a)(b,e.operations),a=n.getBreadcrumbsQuery,r=n.getStoreConfigQuery,i=Object(u.a)(a,{variables:{category_id:t},fetchPolicy:"cache-and-network",nextFetchPolicy:"cache-first"}),c=i.data,l=i.loading,s=i.error,m=Object(u.a)(r,{fetchPolicy:"cache-and-network"}).data,y=Object(o.useMemo)(function(){if(m)return m.storeConfig.category_url_suffix},[m]),p=Object(o.useMemo)(function(){if(!l&&c){var e=c.categories.items[0].breadcrumbs
return e&&e.map(function(e){return{category_level:e.category_level,text:e.category_name,path:v(e.category_url_path,y)}}).sort(h)}},[y,c,l]),f=Object(g.a)("category").setShimmerType
return{currentCategory:c&&c.categories.items[0].name||"",currentCategoryPath:c&&"".concat(c.categories.items[0].url_path).concat(y||"")||"#",isLoading:l,hasError:!!s,normalizedData:p||[],handleClick:f}}({categoryId:n}),l=r.currentCategory,m=r.currentCategoryPath,y=r.hasError,p=r.isLoading,f=r.normalizedData,C=r.handleClick,j=Object(o.useMemo)(function(){return f.map(function(e){var n=e.text,a=e.path
return i.a.createElement(o.Fragment,{key:n},i.a.createElement("span",{className:t.divider},"/"),i.a.createElement(s.b,{className:t.link,to:Object(P.a)(a),onClick:C},n))})},[t.divider,t.link,C,f])
if(p)return i.a.createElement(E.a,null)
if(y)return i.a.createElement("div",{className:t.root,"aria-live":"polite","aria-busy":"false"})
var O=a?i.a.createElement(s.b,{className:t.link,to:Object(P.a)(m),onClick:C},l):i.a.createElement("span",{className:t.currentCategory},l),F=a?i.a.createElement(o.Fragment,null,i.a.createElement("span",{className:t.divider},"/"),i.a.createElement("span",{className:t.text},a)):null
return i.a.createElement("div",{className:t.root,"aria-live":"polite","aria-busy":"false"},i.a.createElement(s.b,{className:t.link,to:"/"},i.a.createElement(c.a,{id:"global.home",defaultMessage:"Home"})),j,i.a.createElement("span",{className:t.divider},"/"),O,F)}
t.a=C
C.propTypes={categoryId:l.string.isRequired,currentProduct:l.string}},ZBw8:function(e,t,n){"use strict"
var a=n("JPst"),r=n.n(a)()(function(e){return e[1]})
r.push([e.i,".noProductsFound-root--7F {\n    align-items: center;\n    display: flex;\n    flex-direction: column;\n    height: 100vh;\n    justify-content: center;\n}\n\n.noProductsFound-title-Ecz {\n    font-size: 1rem;\n    font-weight: 600;\n    text-align: center;\n}\n\n.noProductsFound-categories-xqT {\n    margin-top: 2rem;\n}\n\n.noProductsFound-list-zoU {\n    margin-top: 1rem;\n}\n\n.noProductsFound-listItem-ik7 {\n    text-align: center;\n    text-decoration: underline;\n}\n\n.noProductsFound-listItem-ik7:not(:last-child) {\n    margin-bottom: 0.5rem;\n}\n\n.noProductsFound-imageContainer-qy1 {\n    margin-bottom: 2rem;\n}\n\n.noProductsFound-image-pVs {\n    height: 200px;\n    width: 200px;\n    max-width: 200px;\n}\n",""]),r.locals={root:"noProductsFound-root--7F",title:"noProductsFound-title-Ecz",categories:"noProductsFound-categories-xqT",list:"noProductsFound-list-zoU",listItem:"noProductsFound-listItem-ik7",imageContainer:"noProductsFound-imageContainer-qy1",image:"noProductsFound-image-pVs"},t.a=r},u2JS:function(e,t,n){e.exports=n.p+"noProductsFound-e9n.png"}}])
