/*! @version pwa-studio: 0.0.1, @magento/venia-ui: ~9.3.0, @magento/venia-sample-backends: ~0.0.1, @magento/upward-security-headers: ~1.0.7, @magento/pwa-theme-venia: ~1.2.0, @magento/pwa-buildpack: ~11.2.0, @magento/peregrine: ~12.3.0, @magento/pagebuilder: ~7.2.0, @magento/eslint-config: ~1.5.0, @magento/babel-preset-peregrine: ~1.2.0, @apollo/client: ~3.4.0 */
(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{"5yLy":function(e,a,n){"use strict"
var t=n("JPst"),r=n.n(t),o=n("sARL"),c=r()(function(e){return e[1]})
c.i(o.a,"",!0),c.push([e.i,".accountInformationPage-root-9H5 {\n    display: grid;\n    padding: 2.5rem 3rem;\n    row-gap: 2rem;\n}\n\n.accountInformationPage-title-CzS {\n    justify-self: center;\n    font-family: var(--venia-global-fontFamily-serif);\n    font-weight: var(--venia-global-fontWeight-bold);\n}\n\n.accountInformationPage-accountDetails-UxN {\n    display: grid;\n    row-gap: 2rem;\n    grid-template-columns: 1fr 1fr 1fr;\n}\n\n.accountInformationPage-lineItemsContainer-4u8 {\n    grid-column: 1 / span 1;\n    display: grid;\n    gap: 1rem;\n    grid-template-columns: 1fr 1fr;\n    line-height: 1.5rem;\n}\n\n.accountInformationPage-lineItemLabel-Kps {\n    font-weight: var(--venia-global-fontWeight-bold);\n}\n\n.accountInformationPage-nameLabel-cHH,\n.accountInformationPage-emailLabel-1-X,\n.accountInformationPage-passwordLabel-dhQ {\n}\n\n.accountInformationPage-nameValue-NTd,\n.accountInformationPage-emailValue-XI3,\n.accountInformationPage-passwordValue-Bv- {\n}\n\n.accountInformationPage-editButtonContainer-OjG {\n    grid-column: 1 / span 1;\n    text-align: center;\n}\n\n.accountInformationPage-editInformationButton-C64 {\n}\n\n@media (min-width: 961px) {\n    .accountInformationPage-nameLabel-cHH,\n    .accountInformationPage-emailLabel-1-X,\n    .accountInformationPage-passwordLabel-dhQ {\n    }\n}\n\n@media (max-width: 960px) {\n    .accountInformationPage-accountDetails-UxN {\n        grid-template-columns: 1fr;\n    }\n\n    .accountInformationPage-lineItemsContainer-4u8 {\n        grid-template-columns: 1fr;\n        grid-gap: 0.75rem;\n    }\n}\n",""]),c.locals={root:"accountInformationPage-root-9H5",title:"accountInformationPage-title-CzS",accountDetails:"accountInformationPage-accountDetails-UxN",lineItemsContainer:"accountInformationPage-lineItemsContainer-4u8",lineItemLabel:"accountInformationPage-lineItemLabel-Kps",nameLabel:"accountInformationPage-nameLabel-cHH accountInformationPage-lineItemLabel-Kps accountInformationPage-lineItemLabel-Kps",emailLabel:"accountInformationPage-emailLabel-1-X accountInformationPage-lineItemLabel-Kps accountInformationPage-lineItemLabel-Kps",passwordLabel:"accountInformationPage-passwordLabel-dhQ accountInformationPage-lineItemLabel-Kps accountInformationPage-lineItemLabel-Kps",nameValue:"accountInformationPage-nameValue-NTd",emailValue:"accountInformationPage-emailValue-XI3",passwordValue:"accountInformationPage-passwordValue-Bv-",editButtonContainer:"accountInformationPage-editButtonContainer-OjG",editInformationButton:"accountInformationPage-editInformationButton-C64 "+o.a.locals.root_normalPriority},a.a=c},GyKt:function(e,a,n){"use strict"
n.r(a),n.d(a,"default",function(){return U})
var t=n("lSNA"),r=n.n(t),o=n("q1tI"),c=n.n(o),i=n("dDsW"),l=n("kriW"),s=n("o0o1"),u=n.n(s),m=n("yXPU"),d=n.n(m),g=n("J4zp"),f=n.n(g),p=n("+TN3"),b=n("pZLH"),h=n("FITH"),P=n("MsnC")
function ownKeys(e,a){var n=Object.keys(e)
if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e)
a&&(t=t.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,t)}return n}function _objectSpread(e){for(var a=1;a<arguments.length;a++){var n=null!=arguments[a]?arguments[a]:{}
a%2?ownKeys(Object(n),!0).forEach(function(a){r()(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}var w,I,y,C,v=n("y1Xp"),O=n("ACyH"),j=n("gpca"),E=n("UPvi"),L=n("DUu4"),k=n("LboF"),S=n.n(k),N=n("5yLy"),V={injectType:"singletonStyleTag",insert:"head",singleton:!0},x=(S()(N.a,V),N.a.locals||{}),D=n("VkAN"),T=n.n(D),_=n("UYTu"),A=Object(_.a)(w||(w=T()(["\n    fragment AccountInformationPageFragment on Customer {\n        id\n        firstname\n        lastname\n        email\n    }\n"]))),M={mutations:{setCustomerInformationMutation:Object(_.a)(I||(I=T()(["\n    mutation SetCustomerInformation($customerInput: CustomerInput!) {\n        updateCustomer(input: $customerInput) {\n            # eslint-disable-next-line @graphql-eslint/require-id-when-available\n            customer {\n                ...AccountInformationPageFragment\n            }\n        }\n    }\n    ","\n"])),A),changeCustomerPasswordMutation:Object(_.a)(y||(y=T()(["\n    mutation ChangeCustomerPassword(\n        $currentPassword: String!\n        $newPassword: String!\n    ) {\n        changeCustomerPassword(\n            currentPassword: $currentPassword\n            newPassword: $newPassword # eslint-disable-next-line @graphql-eslint/require-id-when-available\n        ) {\n            email\n        }\n    }\n"])))},queries:{getCustomerInformationQuery:Object(_.a)(C||(C=T()(["\n    query GetCustomerInformation {\n        # eslint-disable-next-line @graphql-eslint/require-id-when-available\n        customer {\n            ...AccountInformationPageFragment\n        }\n    }\n    ","\n"])),A)}}
function accountInformationPage_ownKeys(e,a){var n=Object.keys(e)
if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e)
a&&(t=t.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,t)}return n}var K=c.a.lazy(function(){return Promise.all([n.e(0),n.e(28)]).then(n.bind(null,"+jtD"))}),U=function AccountInformationPage(e){var a=Object(v.a)(x,e.classes),n=function useAccountInformationPage(e){var a,n=e.mutations,t=n.setCustomerInformationMutation,r=n.changeCustomerPasswordMutation,c=e.queries.getCustomerInformationQuery,i=Object(h.b)(),l=f()(i,1)[0].isSignedIn,s=Object(o.useState)(!1),m=f()(s,2),g=m[0],w=m[1],I=Object(o.useState)(!1),y=f()(I,2),C=y[0],v=y[1],O=Object(o.useState)(!1),j=f()(O,2),E=j[0],L=j[1],k=Object(p.a)(c,{skip:!l,fetchPolicy:"cache-and-network",nextFetchPolicy:"cache-first"}),S=k.data,N=k.error,V=Object(b.a)(t),x=f()(V,2),D=x[0],T=x[1],_=T.error,A=T.loading,M=Object(b.a)(r),K=f()(M,2),U=K[0],q=K[1],R=q.error,B=q.loading,F=Object(P.a)({currentForm:"CUSTOMER_EDIT",formAction:"editCustomer"}),H=F.generateReCaptchaData,X=F.recaptchaLoading,W=F.recaptchaWidgetProps,$=Object(o.useMemo)(function(){if(S)return{customer:S.customer}},[S]),z=Object(o.useCallback)(function(){w(!0)},[w]),Q=Object(o.useCallback)(function(){v(!1),w(!1)},[v]),G=Object(o.useCallback)(function(){v(!0),L(!1)},[v]),J=Object(o.useCallback)((a=d()(u.a.mark(function _callee(e){var a,n,t,r,o,c
return u.a.wrap(function _callee$(i){for(;;)switch(i.prev=i.next){case 0:if(a=e.email,n=e.firstname,t=e.lastname,r=e.password,o=e.newPassword,i.prev=1,a=a.trim(),n=n.trim(),t=t.trim(),r=r.trim(),o=o?o.trim():o,$.customer.email===a&&$.customer.firstname===n&&$.customer.lastname===t){i.next=10
break}return i.next=10,D({variables:{customerInput:{email:a,firstname:n,lastname:t,password:r}}})
case 10:if(!r||!o){i.next=16
break}return i.next=13,H()
case 13:return c=i.sent,i.next=16,U(_objectSpread({variables:{currentPassword:r,newPassword:o}},c))
case 16:Q(!1),i.next=23
break
case 19:return i.prev=19,i.t0=i.catch(1),L(!0),i.abrupt("return")
case 23:case"end":return i.stop()}},_callee,null,[[1,19]])})),function(e){return a.apply(this,arguments)}),[$,Q,D,H,U])
return{handleCancel:Q,formErrors:E?[_,R]:[],handleSubmit:J,handleChangePassword:z,initialValues:$,isDisabled:A||B||X,isUpdateMode:C,loadDataError:N,shouldShowNewPassword:g,showUpdateMode:G,recaptchaWidgetProps:W}}(function accountInformationPage_objectSpread(e){for(var a=1;a<arguments.length;a++){var n=null!=arguments[a]?arguments[a]:{}
a%2?accountInformationPage_ownKeys(Object(n),!0).forEach(function(a){r()(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):accountInformationPage_ownKeys(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}({},M)),t=n.handleCancel,s=n.formErrors,m=n.handleChangePassword,g=n.handleSubmit,w=n.initialValues,I=n.isDisabled,y=n.isUpdateMode,C=n.loadDataError,k=n.shouldShowNewPassword,S=n.showUpdateMode,N=n.recaptchaWidgetProps,V=Object(i.a)().formatMessage,D=C?c.a.createElement(j.a,null,c.a.createElement(l.a,{id:"accountInformationPage.errorTryAgain",defaultMessage:"Something went wrong. Please refresh and try again."})):null,T=null
if(!w)return L.a
var _=w.customer,A="".concat(_.firstname," ").concat(_.lastname)
return T=c.a.createElement(o.Fragment,null,c.a.createElement("div",{className:a.accountDetails},c.a.createElement("div",{className:a.lineItemsContainer},c.a.createElement("span",{className:a.nameLabel},c.a.createElement(l.a,{id:"global.name",defaultMessage:"Name"})),c.a.createElement("span",{className:a.nameValue},A),c.a.createElement("span",{className:a.emailLabel},c.a.createElement(l.a,{id:"global.email",defaultMessage:"Email"})),c.a.createElement("span",{className:a.emailValue},_.email),c.a.createElement("span",{className:a.passwordLabel},c.a.createElement(l.a,{id:"global.password",defaultMessage:"Password"})),c.a.createElement("span",{className:a.passwordValue},"***********")),c.a.createElement("div",{className:a.editButtonContainer},c.a.createElement(O.a,{className:a.editInformationButton,disabled:!1,onClick:S,priority:"normal"},c.a.createElement(l.a,{id:"global.editButton",defaultMessage:"Edit"})))),c.a.createElement(o.Suspense,{fallback:null},c.a.createElement(K,{formErrors:s,initialValues:_,isDisabled:I,isOpen:y,onCancel:t,onChangePassword:m,onSubmit:g,shouldShowNewPassword:k,recaptchaWidgetProps:N}))),c.a.createElement("div",{className:a.root},c.a.createElement(E.b,null,V({id:"accountInformationPage.titleAccount",defaultMessage:"Account Information"})),c.a.createElement("h1",{className:a.title},c.a.createElement(l.a,{id:"accountInformationPage.accountInformation",defaultMessage:"Account Information"})),D||T)}},MsnC:function(e,a,n){"use strict"
n.d(a,"a",function(){return w})
var t,r=n("o0o1"),o=n.n(r),c=n("lSNA"),i=n.n(c),l=n("yXPU"),s=n.n(l),u=n("J4zp"),m=n.n(u),d=n("q1tI"),g=n("+TN3"),f=n("y1Xp"),p=n("VkAN"),b=n.n(p),h=n("UYTu"),P={getReCaptchaV3ConfigQuery:Object(h.a)(t||(t=b()(["\n    query GetReCaptchaV3Config {\n        recaptchaV3Config {\n            website_key\n            badge_position\n            language_code\n            forms\n        }\n    }\n"])))},w=function useGoogleReCaptcha(e){var a,n,t,r,c=Object(f.a)(P,e.operations),l=e.currentForm,u=e.formAction,p=Object(g.a)(c.getReCaptchaV3ConfigQuery,{fetchPolicy:"cache-and-network"}),b=p.data,h=p.error,w=p.loading
globalThis.recaptchaCallbacks||(globalThis.recaptchaCallbacks={})
var I=Object(d.useState)(globalThis.hasOwnProperty("grecaptcha")),y=m()(I,2),C=y[0],v=y[1],O=Object(d.useState)(!1),j=m()(O,2),E=j[0],L=j[1],k=Object(d.useState)(null),S=m()(k,2),N=S[0],V=S[1],x=Object(d.useState)(null),D=m()(x,2),T=D[0],_=D[1],A=Object(d.useCallback)(function(e){null!==e&&_(e)},[]),M=null!=b&&null!==(a=b.recaptchaV3Config)&&void 0!==a&&a.badge_position&&b.recaptchaV3Config.badge_position.length>0?b.recaptchaV3Config.badge_position:"bottomright",K=null==b?void 0:null===(n=b.recaptchaV3Config)||void 0===n?void 0:n.website_key,U=null==b?void 0:null===(t=b.recaptchaV3Config)||void 0===t?void 0:t.language_code,q=(null==b?void 0:null===(r=b.recaptchaV3Config)||void 0===r?void 0:r.forms)||[],R=!(h instanceof Error)&&K&&K.length>0&&q.includes(l),B="inline"===M,F=new URL("https://www.google.com/recaptcha/api.js")
F.searchParams.append("badge",M),F.searchParams.append("render",B?"explicit":K),F.searchParams.append("onload","onloadRecaptchaCallback"),U&&U.length>0&&F.searchParams.append("hl",U)
var H=function(e){var a=Object(d.useState)(e?"loading":"idle"),n=m()(a,2),t=n[0],r=n[1]
return Object(d.useEffect)(function(){if(e){var a=document.querySelector('script[src="'.concat(e,'"]'))
if(a)r(a.getAttribute("data-status"))
else{(a=document.createElement("script")).src=e,a.async=!0,a.setAttribute("data-status","loading"),document.body.appendChild(a)
var n=function setAttributeFromEvent(e){a.setAttribute("data-status","load"===e.type?"ready":"error")}
a.addEventListener("load",n),a.addEventListener("error",n)}var t=function setStateFromEvent(e){r("load"===e.type?"ready":"error")}
return a.addEventListener("load",t),a.addEventListener("error",t),function(){a&&(a.removeEventListener("load",t),a.removeEventListener("error",t))}}r("idle")},[e]),t}(!C&&R?F:null),X=w||R&&!C&&"ready"!==H
return Object(d.useEffect)(function(){if(null!==T&&B&&C&&null===N)if("widgetId"in T.dataset)V(T.dataset.widgetId)
else{var e=globalThis.grecaptcha.render(T,{sitekey:K,size:"invisible"})
V(e),T.dataset.widgetId=e}},[C,B,K,N,T]),!globalThis.recaptchaCallbacks[u]&&R&&(globalThis.recaptchaCallbacks[u]=function(){if(!B){var e=document.getElementsByClassName("grecaptcha-badge")
e&&e.length>0&&(e[0].style.zIndex=999)}v(!0)}),globalThis.onloadRecaptchaCallback=Object(d.useCallback)(function(){for(var e in globalThis.recaptchaCallbacks)globalThis.recaptchaCallbacks[e]()
globalThis.recaptchaCallbacks={}},[]),{recaptchaLoading:E||X,generateReCaptchaData:Object(d.useCallback)(s()(o.a.mark(function _callee(){var e,a
return o.a.wrap(function _callee$(n){for(;;)switch(n.prev=n.next){case 0:if(!C){n.next=15
break}return n.prev=1,L(!0),n.next=5,globalThis.grecaptcha.execute(B?N:K,{action:u})
case 5:return e=n.sent,a={context:{headers:i()({},"X-ReCaptcha",e)}},L(!1),n.abrupt("return",a)
case 11:n.prev=11,n.t0=n.catch(1),L(!1)
case 15:return n.abrupt("return",{})
case 16:case"end":return n.stop()}},_callee,null,[[1,11]])})),[C,u,B,K,N]),recaptchaWidgetProps:{containerElement:A,shouldRender:!!(R&&B&&C)}}}}}])
