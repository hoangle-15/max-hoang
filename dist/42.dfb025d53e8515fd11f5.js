/*! @version pwa-studio: 0.0.1, @magento/venia-ui: ~9.3.0, @magento/venia-sample-backends: ~0.0.1, @magento/upward-security-headers: ~1.0.7, @magento/pwa-theme-venia: ~1.2.0, @magento/pwa-buildpack: ~11.2.0, @magento/peregrine: ~12.3.0, @magento/pagebuilder: ~7.2.0, @magento/eslint-config: ~1.5.0, @magento/babel-preset-peregrine: ~1.2.0, @apollo/client: ~3.4.0 */
(window.webpackJsonp=window.webpackJsonp||[]).push([[42],{NYgU:function(e,t,a){"use strict"
a.r(t),a.d(t,"default",function(){return U})
var n,i,s=a("J4zp"),r=a.n(s),o=a("q1tI"),c=a.n(o),l=a("dDsW"),u=a("kriW"),m=a("8UhI"),b=a("J3e4"),d=a("o0o1"),g=a.n(d),f=a("yXPU"),p=a.n(f),h=a("+TN3"),v=a("pZLH"),y=a("y1Xp"),S=a("FITH"),E=a("VkAN"),j=a.n(E),P=a("UYTu"),w=Object(P.a)(n||(n=j()(["\n    mutation SetNewsletterSubscription($isSubscribed: Boolean!) {\n        updateCustomer(input: { is_subscribed: $isSubscribed }) {\n            # eslint-disable-next-line @graphql-eslint/require-id-when-available\n            customer {\n                is_subscribed\n            }\n        }\n    }\n"]))),x={getCustomerSubscriptionQuery:Object(P.a)(i||(i=j()(["\n    query GetCustomerSubscription {\n        # eslint-disable-next-line @graphql-eslint/require-id-when-available\n        customer {\n            is_subscribed\n        }\n    }\n"]))),setNewsletterSubscriptionMutation:w},C=a("ACyH"),T=a("Ri9G"),N=a("7X3U"),O=a("dTQg"),k=a("UPvi"),M=a("DUu4"),V=a("LboF"),q=a.n(V),R=a("kEv4"),I={injectType:"singletonStyleTag",insert:"head",singleton:!0},L=(q()(R.a,I),R.a.locals||{}),U=function CommunicationsPage(e){var t=Object(l.a)().formatMessage,a=Object(y.a)(L,e.classes),n=Object(b.a)(),i=r()(n,2)[1].addToast,s=function useCommunicationsPage(e){var t,a=e.afterSubmit,n=Object(y.a)(x,e.operations),i=n.getCustomerSubscriptionQuery,s=n.setNewsletterSubscriptionMutation,c=Object(S.b)(),l=r()(c,1)[0].isSignedIn,u=Object(h.a)(i,{skip:!l}),m=u.data,b=u.error,d=Object(o.useMemo)(function(){if(m)return{isSubscribed:m.customer.is_subscribed}},[m]),f=Object(v.a)(s),E=r()(f,2),j=E[0],P=E[1],w=P.error,C=P.loading
return{formErrors:[w,b],initialValues:d,handleSubmit:Object(o.useCallback)((t=p()(g.a.mark(function _callee(e){return g.a.wrap(function _callee$(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,j({variables:e})
case 3:t.next=8
break
case 5:return t.prev=5,t.t0=t.catch(0),t.abrupt("return")
case 8:a&&a()
case 9:case"end":return t.stop()}},_callee,null,[[0,5]])})),function(e){return t.apply(this,arguments)}),[j,a]),isDisabled:C}}({afterSubmit:Object(o.useCallback)(function(){i({type:"info",message:t({id:"communicationsPage.preferencesText",defaultMessage:"Your preferences have been updated."}),timeout:5e3})},[i,t])}),d=s.formErrors,f=s.handleSubmit,E=s.initialValues,j=s.isDisabled
if(!E)return M.a
var P=t({id:"communicationsPage.title",defaultMessage:"Communications"})
return c.a.createElement("div",{className:a.root},c.a.createElement(k.b,null,P),c.a.createElement("h1",{className:a.title},c.a.createElement(u.a,{id:"communicationsPage.communicationsText",defaultMessage:"Communications"})),c.a.createElement("p",null,c.a.createElement(u.a,{id:"communicationsPage.optInText",defaultMessage:"We'd like to stay in touch. Please check the boxes next to the communications you'd like to receive."})),c.a.createElement(O.a,{errors:d}),c.a.createElement(m.b,{className:a.form,onSubmit:f,initialValues:E},c.a.createElement(N.a,{id:"isSubscribed",label:t({id:"communicationsPage.eNewsletterText",defaultMessage:"Venia E-Newsletter"})},c.a.createElement(T.a,{field:"isSubscribed",label:t({id:"communicationsPage.subscribeText",defaultMessage:"Stay on the cutting edge of fashion; subscribe to the monthly Venia Newsletter."})})),c.a.createElement("div",{className:a.buttonsContainer},c.a.createElement(C.a,{disabled:j,type:"submit",priority:"high"},t(j?{id:"communicationsPage.savingText",defaultMessage:"Saving"}:{id:"communicationsPage.changesText",defaultMessage:"Save Changes"})))))}},Ri9G:function(e,t,a){"use strict"
var n=a("pVnL"),i=a.n(n),s=a("QILm"),r=a.n(s),o=a("q1tI"),c=a.n(o),l=a("17x9"),u=a("8UhI"),m=a("c3RJ"),b=a("y1Xp"),d=a("gpca"),g=a("/Gi5"),f=a("ZRVi"),p=a("LboF"),h=a.n(p),v=a("jMiJ"),y={injectType:"singletonStyleTag",insert:"head",singleton:!0},S=(h()(v.a,y),v.a.locals||{}),E=["ariaLabel","classes","field","fieldValue","id","label","message"],j=c.a.createElement(g.a,null),P=c.a.createElement(f.a,null),w=function Checkbox(e){var t=e.ariaLabel,a=e.classes,n=e.field,s=e.fieldValue,l=e.id,g=e.label,f=e.message,p=r()(e,E),h=Object(u.j)(n),v=Object(m.a)(n),y=Object(b.a)(S,a),w=v.value?j:P
return Object(o.useEffect)(function(){null!=s&&s!==v.value&&h.setValue(s)},[h,v.value,s]),c.a.createElement(o.Fragment,null,c.a.createElement("label",{"aria-label":t,className:y.root,htmlFor:l},c.a.createElement(u.a,i()({},p,{className:y.input,field:n,id:l})),c.a.createElement("span",{className:y.icon},w),c.a.createElement("span",{className:y.label},g)),c.a.createElement(d.a,{fieldState:v},f))}
t.a=w
w.propTypes={ariaLabel:l.string,classes:Object(l.shape)({icon:l.string,input:l.string,label:l.string,message:l.string,root:l.string}),field:l.string.isRequired,id:l.string,label:l.node.isRequired,message:l.node}},kEv4:function(e,t,a){"use strict"
var n=a("JPst"),i=a.n(n)()(function(e){return e[1]})
i.push([e.i,".communicationsPage-root-BcS {\n    display: grid;\n    padding: 2.5rem 3rem;\n    row-gap: 2rem;\n}\n\n.communicationsPage-title-yCV {\n    justify-self: center;\n    font-family: var(--venia-global-fontFamily-serif);\n    font-weight: var(--venia-global-fontWeight-bold);\n}\n\n.communicationsPage-form-Na6 {\n    display: grid;\n    row-gap: 2rem;\n}\n\n.communicationsPage-buttonsContainer-YRT {\n    display: flex;\n    justify-content: flex-start;\n}\n\n@media (max-width: 960px) {\n    .communicationsPage-root-BcS {\n        padding-left: 1.5rem;\n        padding-right: 1.5rem;\n    }\n\n    .communicationsPage-buttonsContainer-YRT {\n        justify-content: center;\n    }\n}\n",""]),i.locals={root:"communicationsPage-root-BcS",title:"communicationsPage-title-yCV",form:"communicationsPage-form-Na6",buttonsContainer:"communicationsPage-buttonsContainer-YRT"},t.a=i}}])
